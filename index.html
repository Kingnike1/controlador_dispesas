<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle de Gastos e Despesas</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ’° Controle Financeiro</h1>
            <p>Gerencie seus gastos e despesas de forma inteligente</p>
        </div>

        <div class="dashboard">
            <div class="card gastos">
                <h3>Total de Gastos</h3>
                <div class="value" id="totalGastos">R$ 0,00</div>
                <small>Este mÃªs</small>
            </div>
            <div class="card despesas">
                <h3>Total de Despesas</h3>
                <div class="value" id="totalDespesas">R$ 0,00</div>
                <small>Este mÃªs</small>
            </div>
            <div class="card saldo">
                <h3>Saldo</h3>
                <div class="value" id="saldo">R$ 0,00</div>
                <small>Gastos - Despesas</small>
            </div>
            <div class="card disponibilidade">
    <h3>ğŸ’µ DisponÃ­vel para Pagar DÃ­vidas</h3>
    <div class="value" id="valorDisponivel">R$ 0,00</div>
    <small>Valor que vocÃª pode usar</small>
</div>

        </div>

        <div class="main-content">
            <div class="form-section">
                <h2>ğŸ“ Adicionar Registro</h2>
                <div class="success-message" id="successMessage">
                    âœ… Registro adicionado com sucesso!
                </div>
                <form id="expenseForm">
                    <div class="form-group">
    <label for="valorDisponivelInput">Valor DisponÃ­vel para Pagar DÃ­vidas</label>
    <input type="number" id="valorDisponivelInput" step="0.01" min="0" placeholder="0,00">
</div>

                    <div class="form-group">
                        <label for="data">Data</label>
                        <input type="date" id="data" required>
                    </div>
                    <div class="form-group">
                        <label for="descricao">DescriÃ§Ã£o</label>
                        <input type="text" id="descricao" placeholder="Ex: AlmoÃ§o no restaurante" required>
                    </div>
                    <div class="form-group">
                        <label for="valor">Valor (R$)</label>
                        <input type="number" id="valor" step="0.01" min="0.01" placeholder="0,00" required>
                    </div>
                    <div class="form-group">
                        <label for="tipo">Tipo</label>
                        <select id="tipo" required>
                            <option value="">Selecione o tipo</option>
                            <option value="Gasto">Gasto</option>
                            <option value="Despesa">Despesa</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="categoria">Categoria</label>
                        <select id="categoria" required>
                            <option value="">Selecione a categoria</option>
                            <option value="AlimentaÃ§Ã£o">ğŸ½ï¸ AlimentaÃ§Ã£o</option>
                            <option value="Transporte">ğŸš— Transporte</option>
                            <option value="Lazer">ğŸ® Lazer</option>
                            <option value="SaÃºde">ğŸ¥ SaÃºde</option>
                            <option value="EducaÃ§Ã£o">ğŸ“š EducaÃ§Ã£o</option>
                            <option value="Outros">ğŸ“¦ Outros</option>
                        </select>
                    </div>
                    <button type="submit" class="btn">Adicionar Registro</button>
                </form>
            </div>

            <div class="chart-section">
                <h2>ğŸ“Š Gastos por Categoria</h2>
                <div class="chart-container">
                    <canvas id="categoryChart"></canvas>
                </div>
            </div>
        </div>

        <div class="table-section">
            <div class="table-header">
                <h2>ğŸ“‹ HistÃ³rico de Registros</h2>
                <div class="filter-group">
                    <input type="month" id="monthFilter" title="Filtrar por mÃªs">
                    <select id="sortBy">
                        <option value="data">Ordenar por Data</option>
                        <option value="valor">Ordenar por Valor</option>
                        <option value="categoria">Ordenar por Categoria</option>
                    </select>
                    <button class="export-btn" onclick="exportToCSV()">ğŸ“¥ Exportar CSV</button>
                </div>
            </div>
            <div class="table-container">
                <table id="expenseTable">
                    <thead>
                        <tr>
                            <th onclick="sortTable('data')">Data ğŸ“…</th>
                            <th onclick="sortTable('descricao')">DescriÃ§Ã£o</th>
                            <th onclick="sortTable('tipo')">Tipo</th>
                            <th onclick="sortTable('categoria')">Categoria</th>
                            <th onclick="sortTable('valor')">Valor ğŸ’°</th>
                        </tr>
                    </thead>
                    <tbody id="expenseTableBody">
                        <tr class="empty-state">
                            <td colspan="5">
                                <div>
                                    <div style="font-size: 3rem; margin-bottom: 10px;">ğŸ“Š</div>
                                    <h3>Nenhum registro encontrado</h3>
                                    <p>Adicione seu primeiro gasto ou despesa para comeÃ§ar!</p>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

<script src="script.js"></script>
</body>
</html>
